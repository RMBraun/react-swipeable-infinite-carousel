import e,{useRef as r,useMemo as t,useState as n,useCallback as o,useLayoutEffect as i,useEffect as s}from"react";function l(){return l=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l.apply(this,arguments)}var a="Carousel-module_container__j52CF",c="Carousel-module_slidesAndArrowsContainer__MvSNQ",u="Carousel-module_slideContainer__q7xxg",d="Carousel-module_arrowIcon__wMmqr",m="Carousel-module_leftArrowIcon__daMSf",h="Carousel-module_rightArrowIcon__dMi-3",p="Carousel-module_arrow__qfBj1",f="Carousel-module_isArrowHidden__9yP-w",_="Carousel-module_rightArrow__8sZy6",g="Carousel-module_leftArrow__yzgQL",x="Carousel-module_indexContainer__pQPXU",y="Carousel-module_index__r8PSD";!function(e,r){void 0===r&&(r={});var t=r.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".Carousel-module_container__j52CF{align-items:center;display:flex;flex-direction:column;justify-content:center;max-width:100%;overflow:hidden;position:relative}.Carousel-module_slidesAndArrowsContainer__MvSNQ{display:flex;flex-direction:column;height:100%;justify-content:center;position:relative;width:100%}.Carousel-module_slideContainer__q7xxg{display:flex;flex-direction:row;z-index:1}.Carousel-module_arrowIcon__wMmqr{background-color:transparent;border:6px solid #1b1b1b;height:24px;opacity:.5;transition:border-color .5s;width:24px}.Carousel-module_leftArrowIcon__daMSf{border-right:none;border-top:none;transform:translateX(2.5px) rotate(45deg)}.Carousel-module_rightArrowIcon__dMi-3{border-bottom:none;border-left:none;transform:translateX(-2.5px) rotate(45deg)}.Carousel-module_arrow__qfBj1{align-items:center;background-color:#929292a9;border:none;cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;margin:0;mix-blend-mode:luminosity;opacity:.7;padding:0;position:absolute;transition:opacity .5s,background-color .5s;width:48px;z-index:2}.Carousel-module_isArrowHidden__9yP-w{opacity:0;pointer-events:none}.Carousel-module_arrow__qfBj1:hover{opacity:1}.Carousel-module_arrow__qfBj1:focus-visible{opacity:1}.Carousel-module_arrow__qfBj1:active{background-color:#6b6b6ba9}.Carousel-module_rightArrow__8sZy6{right:0}.Carousel-module_leftArrow__yzgQL{left:0}.Carousel-module_indexContainer__pQPXU{align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;margin:10px;width:100%}.Carousel-module_index__r8PSD{background-color:transparent;border:solid rgba(50,50,50,.5);border-radius:2px;cursor:pointer;height:8px;margin:0;padding:0;transition:background-color .5s}");const w=e=>e?.touches?.[0]?.clientX||e?.clientX||0,C=(e,r)=>e?.length&&r&&r>0?e.reduce(((t,{start:n},o)=>{const i=e[Math.min(o+r-1,e.length-1)].end-n;return i>t?i:t}),0):0,b=({displayCount:e,minDisplayCount:r,slideAnchors:t})=>{const n=C(t,r),o=C(t,e);return{minWidth:n?`${n}px`:"auto",width:o?`${o}px`:"100%"}},v=({isLeft:r,isRight:n,isHidden:i,scrollBy:s,arrowProps:a,arrowIconProps:c})=>{const u=t((()=>`${p} ${r?g:_} ${i?f:""} ${a?.className||""}`),[a?.className,r,i]),x=o(((e,r)=>t=>{t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e(t),s(r)}),[a?.onClick,s,r]),y=t((()=>`${d} ${r?m:h} ${c?.className||""}`),[c?.className,r]);return e.createElement("button",l({},a,{className:u,onClick:x(a?.onClick,r?-1:1)}),e.createElement("span",l({},c,{className:y})))},M=({startIndex:n,endIndex:i,indexesPerRow:s,slideAnchors:a,scrollBy:c,indexContainerProps:u,indexProps:d})=>{const m=r(),h=t((()=>`calc((100% - ${5*(s-1)}px) / ${s})`),[s]),p=t((()=>`${x} ${u?.className||""}`),[u?.className]),f=t((()=>`${y} ${d?.className||""}`),[d?.className]),_=o(((e,r)=>t=>{"function"==typeof e&&e(t),c(r)}),[d?.onClick,c,n]);return e.createElement("div",l({},u,{ref:m,className:p,style:{gap:"5px",...u?.style}}),a?.map(((r,t)=>e.createElement("button",l({key:t},d,{className:f,style:{backgroundColor:t>=n&&t<=i?"black":"transparent",width:h,borderWidth:"2px",...d?.style},onClick:_(d?.onClick,t-n)})))))},A=({startIndex:l=0,isScrollable:d=!0,isDraggable:m=!0,hasDragMomentum:h=!0,dragMomentumSpeed:p=25,dragMomentumDecay:f=.98,minDisplayCount:_=0,displayCount:g=0,gridGap:x=10,showArrows:y=!0,renderArrows:C=v,arrowLeftProps:A={},arrowRightProps:P={},scrollSpeed:N=75,showIndexes:E=!0,indexesPerRow:$=0,renderIndexes:k=M,indexContainerProps:S={},indexProps:I={},style:j={},slideContainerStyle:B={},slideStyle:D={},children:q})=>{const R=r(),L=r(0),T=r(),X=e.Children.toArray(q)||[],z=X.length,F=t((()=>Array(z).fill(null).map(((r,t)=>F?.[t]||e.createRef()))),[z]),[W,Q]=n([]),H=r(null),O=r(null),U=o(((e,r=W)=>{const t=r?.[e]?.start;return null!=t?-1*t:0}),[W]),[Y,Z]=n({left:l,right:l}),G=r(Y),J=o((e=>{G.current=e,Z(e)}),[Z]),[K,V]=n(z),[ee,re]=n(!1),[te,ne]=n(!1),oe=r(!1),ie=r((()=>U(Y.left))),se=r(0),le=r(0),ae=r(),ce=t((()=>{const e=W?.[K]?.start;return null!=e?-1*e:0}),[W,z,K]),ue=0!==Y.left,de=null==ie.current||null==H.current||null==W?.[z-1]||-1*ie.current+H.current.clientWidth<W?.[z-1].end,me=o(((e,r=K)=>Math.max(0,Math.min(r,e))),[K]),he=o(((e,r=W)=>{const t=-1*e,n=r.reduce(((e,{start:r,end:n,width:o},i)=>(e.left=t>=r?t>=r+o/2?i+1:i:e.left,e.right=null!=H.current?t+H.current.clientWidth>=n?i:e.right:z-1,e)),{left:0,right:0});return{left:me(n.left),right:Math.max(Math.min(z-1,n.right),n.left)}}),[z,W,me]),pe=o((e=>{ie.current=e,requestAnimationFrame((()=>{O.current&&(O.current.style.transform=`translate(${e}px)`)}))}),[]),fe=()=>{const e=((e=[])=>e.reduce(((e,r,t)=>{if(r?.current){const n=r.current.clientWidth,o=0===t?0:e[t-1].end,i=o+n;e.push({start:o,end:i,width:n})}return e}),[]))(F);if(e?.length){const r=O.current.clientWidth,t=e[e.length-1].end,n=me(e.findIndex((({start:e})=>e+r>=t)),e.length-1),o=me(G.current.left,n),i=U(o,e),s=he(i,e);J(s),Q(e),V(n),pe(i)}};i((()=>{T.current&&T.current.disconnect(),T.current=new ResizeObserver(fe),F.forEach((({current:e})=>T.current.observe(e))),fe()}),[z,_,g,x]),s((()=>(window.addEventListener("resize",fe),()=>{T.current&&T.current.disconnect(),window.removeEventListener("resize",fe)})),[]);const _e=o((e=>{const r=me(Y.left+e),t=U(r),n=he(t);J(n),pe(t)}),[Y,z,U,J,pe,me]),ge=o((e=>{if(R.current&&cancelAnimationFrame(R.current),!m||te||e.touches?.length>1)return;oe.current=!1,re(!0);const r=w(e);se.current=r,le.current=r}),[m,te,re]),xe=o((e=>{if(e.stopPropagation(),oe.current||!m||!ee||te)return;le.current=w(e);const r=se.current-le.current;if(se.current=le.current,L.current=r,0!==r){const e=ie.current-r,t=he(e);J(t),pe(e)}}),[m,W,te,ee,Y,pe]),ye=o((e=>{if(R.current&&cancelAnimationFrame(R.current),!(!m||te||e.touches?.length>0))if(h){oe.current=!0;const e=r=>{R.current=requestAnimationFrame((()=>{const t=ie.current-r;if(Math.abs(r)<=1||t>=0||t<=ce)oe.current=!1,re(!1);else{const n=he(t);J(n),pe(t),e(r*f)}}))};e(L.current<0?Math.max(L.current,-p):Math.min(L.current,p)),L.current=0}else re(!1)}),[h,p,f,ce,0,m,te,re]);s((()=>{if(!ee||!m){R.current&&cancelAnimationFrame(R.current);const e=-1*ie.current,r=W.reduce(((r,{start:t,width:n},o)=>e>=t?e>=t+n/2?o+1:o:r),0),t=me(r),n=U(t),o=he(n);J(o),pe(n),se.current=0,le.current=0}}),[ee,m]);const we=o((e=>{if(!d||ee)return;const r=0===e.deltaX&&Math.abs(e.deltaY)>0?-1*e.deltaY:e.deltaX,t=Math.sign(r);if(ie.current>=0&&-1===t||ie.current<=ce&&1===t)return;te||ne(!0);const n=ie.current-t*Math.min(N,Math.abs(r)),o=he(n);Y.left===o.left&&Y.right===o.right||J(o);const i=()=>{if(te){ne(!1);const e=U(o.left),r=he(e);J(r),pe(e)}};ae.current&&clearTimeout(ae.current),n>=0?(pe(0),i()):n<=ce?(pe(ce),i()):(pe(n),ae.current=setTimeout(i,100))}),[d,Y,W,N,te,ce,ie,ee,ne,J,pe]),Ce=t((()=>(({isScrolling:e,isDragging:r})=>({transition:"transform "+(e||r?"0ms":"500ms")}))({isScrolling:te,isDragging:ee})),[te,ee]);return e.createElement("div",{className:a,style:{...b({minDisplayCount:_,displayCount:g,slideAnchors:W}),...j},ref:H},e.createElement("div",{className:c,onMouseLeave:ye},y&&e.createElement(C,{isLeft:!0,isRight:!1,isHidden:te||ee||!ue,scrollBy:_e,arrowProps:A}),e.createElement("div",{ref:O,className:u,style:{...Ce,...B},onTouchStart:ge,onTouchMove:xe,onTouchEnd:ye,onTouchCancel:ye,onMouseDown:ge,onMouseMove:xe,onMouseUp:ye,onWheel:we},X.map(((r,t)=>e.createElement("div",{style:{paddingRight:`${t===X.length?0:x}px`,...D},ref:F[t],key:t},r)))),y&&e.createElement(C,{isLeft:!1,isRight:!0,isHidden:te||ee||!de,scrollBy:_e,arrowProps:P})),E&&e.createElement(k,{startIndex:Y.left,endIndex:Y.right,indexesPerRow:$||z,slideAnchors:W,scrollBy:_e,indexContainerProps:S,indexProps:I}))};export{A as Carousel};
//# sourceMappingURL=index.es.js.map
