import e,{useRef as r,useState as t,useMemo as n,useCallback as o,useLayoutEffect as l,useEffect as i}from"react";function s(){return s=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}var a="Carousel-module_container__j52CF",c="Carousel-module_slidesAndArrowsContainer__MvSNQ",u="Carousel-module_slideContainer__q7xxg",d="Carousel-module_arrowIcon__wMmqr",m="Carousel-module_leftArrowIcon__daMSf",h="Carousel-module_rightArrowIcon__dMi-3",f="Carousel-module_arrow__qfBj1",p="Carousel-module_isArrowHidden__9yP-w",g="Carousel-module_rightArrow__8sZy6",_="Carousel-module_leftArrow__yzgQL",x="Carousel-module_indexContainer__pQPXU",y="Carousel-module_index__r8PSD";!function(e,r){void 0===r&&(r={});var t=r.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".Carousel-module_container__j52CF{align-items:center;display:flex;flex-direction:column;justify-content:center;max-width:100%;overflow:hidden;position:relative}.Carousel-module_slidesAndArrowsContainer__MvSNQ{display:flex;flex-direction:column;height:100%;justify-content:center;position:relative;width:100%}.Carousel-module_slideContainer__q7xxg{display:flex;flex-direction:row;transition:transform .5s;z-index:1}.Carousel-module_arrowIcon__wMmqr{background-color:transparent;border:6px solid #1b1b1b;height:24px;opacity:.5;transition:border-color .5s;width:24px}.Carousel-module_leftArrowIcon__daMSf{border-right:none;border-top:none;transform:translateX(2.5px) rotate(45deg)}.Carousel-module_rightArrowIcon__dMi-3{border-bottom:none;border-left:none;transform:translateX(-2.5px) rotate(45deg)}.Carousel-module_arrow__qfBj1{align-items:center;background-color:#929292a9;border:none;cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;margin:0;mix-blend-mode:luminosity;opacity:.7;padding:0;position:absolute;transition:opacity .5s,background-color .5s;width:48px;z-index:2}.Carousel-module_isArrowHidden__9yP-w{opacity:0;pointer-events:none}.Carousel-module_arrow__qfBj1:hover{opacity:1}.Carousel-module_arrow__qfBj1:focus-visible{opacity:1}.Carousel-module_arrow__qfBj1:active{background-color:#6b6b6ba9}.Carousel-module_rightArrow__8sZy6{right:0}.Carousel-module_leftArrow__yzgQL{left:0}.Carousel-module_indexContainer__pQPXU{align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;margin:10px;width:100%}.Carousel-module_index__r8PSD{background-color:transparent;border:solid rgba(50,50,50,.5);border-radius:2px;cursor:pointer;height:8px;margin:0;padding:0;transition:background-color .5s}");const w=e=>e?.touches?.[0]?.clientX||e?.clientX||0,C=(e,r)=>e?.length&&r&&r>0?e.reduce(((t,{start:n},o)=>{const l=e[Math.min(o+r-1,e.length-1)].end-n;return l>t?l:t}),0):0,b=({isLeft:r,isRight:t,isHidden:l,scrollBy:i,arrowProps:a,arrowIconProps:c})=>{const u=n((()=>`${f} ${r?_:g} ${l?p:""} ${a?.className||""}`),[a?.className,r,l]),x=o(((e,r)=>t=>{t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e(t),i(r)}),[a?.onClick,i,r]),y=n((()=>`${d} ${r?m:h} ${c?.className||""}`),[c?.className,r]);return e.createElement("button",s({},a,{className:u,onClick:x(a?.onClick,r?-1:1)}),e.createElement("span",s({},c,{className:y})))},A=({activeIndexes:t,startIndex:l,endIndex:i,indexesPerRow:a,slideAnchors:c,scrollBy:u,indexContainerProps:d,indexProps:m})=>{const h=r(),f=n((()=>`calc((100% - ${5*(a-1)}px) / ${a})`),[a]),p=n((()=>`${x} ${d?.className||""}`),[d?.className]),g=n((()=>`${y} ${m?.className||""}`),[m?.className]),_=o(((e,r)=>t=>{"function"==typeof e&&e(t),u(r)}),[u]);return e.createElement("div",s({},d,{ref:h,className:p,style:{gap:"5px",...d?.style}}),c?.map(((r,n)=>e.createElement("button",s({key:n},m,{className:g,style:{backgroundColor:t.includes(n)?"black":"transparent",width:f,borderWidth:"2px",...m?.style},onClick:_(m?.onClick,n-l)})))))},v=({isInfinite:s=!1,startIndex:d=0,isScrollable:m=!0,isDraggable:h=!0,hasDragMomentum:f=!0,dragMomentumSpeed:p=25,dragMomentumDecay:g=.98,minDisplayCount:_=0,displayCount:x=0,gridGap:y=10,showArrows:v=!0,renderArrows:M=b,arrowLeftProps:P={},arrowRightProps:N={},scrollSpeed:$=75,showIndexes:I=!0,indexesPerRow:E=0,renderIndexes:k=A,indexContainerProps:S={},indexProps:q={},style:D={},slideContainerStyle:j={},slideStyle:B={},children:F})=>{const R=r(),T=r(),L=r(!1),W=r(0),X=r(),Q=e.Children.toArray(F)||[],[z,H]=t(s?Q.length:0),O=n((()=>s&&z?[...Q.slice(Q.length-z,Q.length),...Q,...Q.slice(0,z)]:Q),[Q.length,s,z]),U=O.length,Y=n((()=>Array(U).fill(null).map(((r,t)=>Y?.[t]||e.createRef()))),[U]),[Z,G]=t([]),J=n((()=>s?Z.slice(z,Z.length-z):Z),[Z,Z.length,s]),K=r(null),V=r(null),ee=o(((e,r=Z)=>{const t=r?.[e]?.start;return null!=t?-1*t:0}),[Z]),[re,te]=t({left:d+z,right:d+z}),ne=n((()=>null!=re?.left&&null!=re?.right?Array(re.right-re.left+1).fill(re.left).map(((e,r)=>(re.left+r-z)%Q.length)):[]),[re?.left,re?.right,z]),oe=r(re),[le,ie]=t(U),[se,ae]=t(!1),[ce,ue]=t(!0),de=r(!1),me=r((()=>ee(re.left))),he=r(0),fe=r(0),pe=r(),ge=n((()=>{const e=Z?.[le]?.start;return null!=e?-1*e:0}),[Z,U,le]),_e=s||0!==re.left,xe=s||null==me.current||null==K.current||null==Z?.[U-1]||-1*me.current+K.current.clientWidth<Z?.[U-1].end,ye=o(((e,r=le)=>Math.max(0,Math.min(r,e))),[le]),we=o(((e,r=Z)=>{const t=-1*e,n=r.reduce(((e,{start:r,end:n,width:o},l)=>(e.left=t>=r?t>=r+o/2?l+1:l:e.left,e.right=null!=K.current?t+K.current.clientWidth>=n?l:e.right:U-1,e)),{left:0,right:0});return{left:ye(n.left),right:Math.max(Math.min(U-1,n.right),n.left)}}),[U,Z,ye]),Ce=o((({offset:e,index:r,newSlideAnchors:t=Z,newClonesLength:n=z})=>{requestAnimationFrame((()=>{if(!V.current)return;let o=e;if(s&&n&&t.length){const r=t[t.length-n-1].end+y,l=t[n].start;e+r<0?o=e+r-l:e+l>0&&(o=e+l-r)}const l=null==r?we(o):r;T.current&&cancelAnimationFrame(T.current),(ce||se)&&(V.current.style.transitionDuration="0ms"),V.current.style.transform=`translate(${o}px)`,T.current=requestAnimationFrame((()=>{V.current.style.transitionDuration="500ms"})),me.current=o,te(l)}))}),[y,ce,se,Z,Z?.length,z,we,te,we]),be=()=>{const e=((e=[],r)=>e.reduce(((e,t,n)=>{if(t?.current){const o=t.current.clientWidth-r,l=0===n?0:e[n-1].end+r,i=l+o;e.push({start:l,end:i,width:o})}return e}),[]))(Y,y);if(e?.length){const r=V.current.clientWidth,t=(e=>{if(!s)return 0;const r=V.current.clientWidth,t=s?e.slice(z,e.length-z):e,n=t.reduce(((e,{width:t},n)=>(e.width=e.width+t,null==e.index&&e.width>r&&(e.index=n+1),e)),{width:0,index:null}).index,o=t.reduceRight(((e,{width:n},o)=>(e.width=e.width+n,null==e.index&&e.width>r&&(e.index=t.length-o),e)),{width:0,index:null}).index;return Math.max(n,o,1)})(e),n=e[e.length-1].end,o=ye(e.findIndex((({start:e})=>e+r>=n)),e.length-1),l=ye(oe.current.left+t,o),i=ee(l,e),a=we(i,e);H(t),te(a),G(e),ie(o),Ce({offset:i,index:a})}};l((()=>{X.current&&X.current.disconnect(),X.current=new ResizeObserver(be),X.current.observe(K.current),Y.forEach((({current:e})=>X.current.observe(e))),be()}),[U,z,_,x,y,s]),i((()=>{ue(!1),s&&be()}),[]);const Ae=o((e=>{if(!L.current){L.current=!0;let r=ye(re.left+e);if(s){const t=r>=Z.length-z?r-Q.length-1:r<z-1?Q.length+1+r:null;if(null!=t){V.current.style.transitionDuration="0ms";const n=-Z[t].start;V.current.style.transform=`translate(${n}px)`,me.current=n,r=ye(t+e)}}requestAnimationFrame((()=>{V.current.style.transitionDuration="500ms",requestAnimationFrame((()=>{if(r!==re.left){const e=ee(r),t=we(e);te(t),V.current.addEventListener("transitionend",(()=>{L.current=!1}),{once:!0}),V.current.style.transform=`translate(${e}px)`,me.current=e}else L.current=!1}))}))}}),[Z,s,re,U,we,ee,Ce,ye,te]),ve=o((e=>{if(R.current&&cancelAnimationFrame(R.current),L.current||!h||ce||e.touches?.length>1)return;de.current=!1,ae(!0);const r=w(e);he.current=r,fe.current=r}),[h,ce,ae]),Me=o((e=>{if(e.stopPropagation(),L.current||de.current||!h||!se||ce)return;fe.current=w(e);const r=he.current-fe.current;he.current=fe.current,W.current=r,0!==r&&Ce({offset:me.current-r})}),[h,ce,se,Ce]),Pe=o((e=>{if(R.current&&cancelAnimationFrame(R.current),!(L.current||!h||ce||e.touches?.length>0))if(f){de.current=!0;const e=r=>{W.current=r,R.current=requestAnimationFrame((()=>{const t=me.current-r;Math.abs(r)<=1||t>=0||t<=ge?(de.current=!1,ae(!1),W.current=0):(Ce({offset:t}),e(r*g))}))};e(W.current<0?Math.max(W.current,-p):Math.min(W.current,p))}else ae(!1)}),[f,p,g,ge,0,h,ce,ae,Ce]),Ne=o((e=>{if(L.current||!m||se)return;const r=0===e.deltaX&&Math.abs(e.deltaY)>0?-1*e.deltaY:e.deltaX,t=Math.sign(r);if(me.current>=0&&-1===t||me.current<=ge&&1===t)return void ue(!1);ce||ue(!0);const n=me.current-t*Math.min($,Math.abs(r)),o=()=>{ue(!1)};pe.current&&clearTimeout(pe.current),!s&&n>=0?Ce({offset:0}):!s&&n<=ge?Ce({offset:ge}):(Ce({offset:n}),pe.current=setTimeout(o,100))}),[s,m,$,ce,ge,me,se,ue,Ce]);i((()=>{if(!(L.current||h&&se||m&&ce)){R.current&&cancelAnimationFrame(R.current),pe.current&&clearTimeout(pe.current);const e=ee(re.left);Ce({offset:e}),he.current=0,fe.current=0}}),[se,h,ce,m]);const $e=n((()=>(({displayCount:e,minDisplayCount:r,slideAnchors:t})=>{const n=C(t,r),o=C(t,e);return{minWidth:n>0?`${n}px`:"auto",width:o>0?`${o}px`:"100%"}})({minDisplayCount:_,displayCount:x,slideAnchors:Z})),[Z,Z?.length,_,x]);return e.createElement("div",{className:a,style:{...$e,...D},ref:K},e.createElement("div",{className:c,onMouseLeave:Pe},v&&e.createElement(M,{isLeft:!0,isRight:!1,isHidden:ce||se||!_e,scrollBy:Ae,arrowProps:P}),e.createElement("div",{ref:V,className:u,style:j,onTouchStart:ve,onTouchMove:Me,onTouchEnd:Pe,onTouchCancel:Pe,onMouseDown:ve,onMouseMove:Me,onMouseUp:Pe,onWheel:Ne},O.map(((r,t)=>e.createElement("div",{style:{paddingRight:`${s||t!==O.length-1?y:0}px`,...B},ref:Y[t],key:t},r)))),v&&e.createElement(M,{isLeft:!1,isRight:!0,isHidden:ce||se||!xe,scrollBy:Ae,arrowProps:N})),I&&e.createElement(k,{startIndex:re.left-z,endIndex:re.right-z,activeIndexes:ne,indexesPerRow:E||Q.length,slideAnchors:J,scrollBy:Ae,indexContainerProps:S,indexProps:q}))};export{v as Carousel};
//# sourceMappingURL=index.es.js.map
