import e,{useRef as r,useMemo as t,useState as n,useCallback as o,useLayoutEffect as s,useEffect as i}from"react";function l(){return l=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l.apply(this,arguments)}var a="Carousel-module_container__j52CF",c="Carousel-module_slidesAndArrowsContainer__MvSNQ",d="Carousel-module_slideContainer__q7xxg",u="Carousel-module_arrowIcon__wMmqr",m="Carousel-module_leftArrowIcon__daMSf",p="Carousel-module_rightArrowIcon__dMi-3",h="Carousel-module_arrow__qfBj1",f="Carousel-module_isArrowHidden__9yP-w",_="Carousel-module_rightArrow__8sZy6",g="Carousel-module_leftArrow__yzgQL",x="Carousel-module_indexContainer__pQPXU",w="Carousel-module_index__r8PSD";!function(e,r){void 0===r&&(r={});var t=r.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".Carousel-module_container__j52CF{align-items:center;display:flex;flex-direction:column;justify-content:center;max-width:100%;overflow:hidden;position:relative}.Carousel-module_slidesAndArrowsContainer__MvSNQ{display:flex;flex-direction:column;height:100%;justify-content:center;position:relative;width:100%}.Carousel-module_slideContainer__q7xxg{display:flex;flex-direction:row;z-index:1}.Carousel-module_arrowIcon__wMmqr{background-color:transparent;border:6px solid #1b1b1b;border-radius:5px;height:24px;opacity:.5;transition:border-color .5s;width:24px}.Carousel-module_leftArrowIcon__daMSf{border-right:none;border-top:none;transform:translateX(2.5px) rotate(45deg)}.Carousel-module_rightArrowIcon__dMi-3{border-bottom:none;border-left:none;transform:translateX(-2.5px) rotate(45deg)}.Carousel-module_arrow__qfBj1{align-items:center;background-color:#929292a9;border:none;cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;margin:0;mix-blend-mode:luminosity;opacity:.7;padding:0;position:absolute;transition:opacity .5s,background-color .5s;width:48px;z-index:2}.Carousel-module_isArrowHidden__9yP-w{opacity:0;pointer-events:none}.Carousel-module_arrow__qfBj1:hover{opacity:1}.Carousel-module_arrow__qfBj1:focus-visible{opacity:1}.Carousel-module_arrow__qfBj1:active{background-color:#6b6b6ba9}.Carousel-module_rightArrow__8sZy6{right:0}.Carousel-module_leftArrow__yzgQL{left:0}.Carousel-module_indexContainer__pQPXU{align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;margin:10px;width:100%}.Carousel-module_index__r8PSD{background-color:transparent;border:solid rgba(50,50,50,.5);border-radius:2px;cursor:pointer;height:8px;margin:0;padding:0;transition:background-color .5s}");const y=e=>e?.touches?.[0]?.clientX||e?.clientX||0,C=(e,r)=>e?.length&&r&&r>0?e.reduce(((t,{start:n},o)=>{const s=e[Math.min(o+r-1,e.length-1)].end-n;return s>t?s:t}),0):0,b=({displayCount:e,minDisplayCount:r,slideAnchors:t})=>{const n=C(t,r),o=C(t,e);return{minWidth:n?`${n}px`:"auto",width:o?`${o}px`:"100%"}},v=({isLeft:r,isRight:n,isHidden:s,scrollBy:i,arrowProps:a,arrowIconProps:c})=>{const d=t((()=>`${h} ${r?g:_} ${s?f:""} ${a?.className||""}`),[a?.className,r,s]),x=o(((e,r)=>t=>{t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e(t),i(r)}),[a?.onClick,i,r]),w=t((()=>`${u} ${r?m:p} ${c?.className||""}`),[c?.className,r]);return e.createElement("button",l({},a,{className:d,onClick:x(a?.onClick,r?-1:1)}),e.createElement("span",l({},c,{className:w})))},A=({startIndex:n,endIndex:s,indexesPerRow:i,slideAnchors:a,scrollBy:c,indexContainerProps:d,indexProps:u})=>{const m=r(),p=t((()=>`calc((100% - ${5*(i-1)}px) / ${i})`),[i]),h=t((()=>`${x} ${d?.className||""}`),[d?.className]),f=t((()=>`${w} ${u?.className||""}`),[u?.className]),_=o(((e,r)=>t=>{"function"==typeof e&&e(t),c(r)}),[u?.onClick,c,n]);return e.createElement("div",l({},d,{ref:m,className:h,style:{gap:"5px",...d?.style}}),a?.map(((r,t)=>e.createElement("button",l({key:t},u,{className:f,style:{backgroundColor:t>=n&&t<=s?"black":"transparent",width:p,borderWidth:"2px",...u?.style},onClick:_(u?.onClick,t-n)})))))},M=({startIndex:l=0,minDisplayCount:u=0,displayCount:m=0,gridGap:p=10,showArrows:h=!0,renderArrows:f=v,arrowLeftProps:_={},arrowRightProps:g={},scrollSpeed:x=75,showIndexes:w=!0,indexesPerRow:C=0,renderIndexes:M=A,indexContainerProps:P={},indexProps:N={},style:E={},slideContainerStyle:$={},slideStyle:k={},children:I})=>{const S=r(),j=e.Children.toArray(I)||[],B=j.length,q=t((()=>Array(B).fill(null).map(((r,t)=>q?.[t]||e.createRef()))),[B]),[D,L]=n([]),R=r(null),T=r(null),X=o(((e,r=D)=>{const t=r?.[e]?.start;return null!=t?-1*t:0}),[D]),[z,W]=n({left:l,right:l}),Q=r(z),H=o((e=>{Q.current=e,W(e)}),[W]),[O,F]=n(B),[G,U]=n(!1),[Y,Z]=n(!1),J=r(!1),K=o((()=>{J.current=!0}),[]),V=r(X(z.left)),ee=r(0),re=r(0),te=r(),ne=t((()=>{const e=D?.[O]?.start;return null!=e?-1*e:0}),[D,B,O]),oe=0!==z.left,se=null==V.current||null==R.current||null==D?.[B-1]||-1*V.current+R.current.clientWidth<D?.[B-1].end,ie=o(((e,r=O)=>Math.max(0,Math.min(r,e))),[O]),le=o(((e,r=D)=>{const t=-1*e,n=r.reduce(((e,{start:r,end:n,width:o},s)=>(e.left=t>=r?t>=r+o/2?s+1:s:e.left,e.right=null!=R.current?t+R.current.clientWidth>=n?s:e.right:B-1,e)),{left:0,right:0});return{left:ie(n.left),right:Math.max(Math.min(B-1,n.right),n.left)}}),[B,D,ie]),ae=o((e=>{V.current=e,requestAnimationFrame((()=>{T.current&&(T.current.style.transform=`translate(${e}px)`)}))}),[]),ce=()=>{const e=((e=[],r=0)=>e.reduce(((e,t,n)=>{if(t?.current){const o=t.current.clientWidth,s=0===n?0:e[n-1].end+r,i=s+o;e.push({start:s,end:i,width:o})}return e}),[]))(q,p);if(e?.length){const r=R.current.clientWidth,t=e[e.length-1].end,n=ie(e.findIndex((({start:e})=>e+r>=t)),e.length-1),o=ie(Q.current.left,n),s=X(o,e),i=le(s,e);H(i),L(e),F(n),ae(s)}};s((()=>{S.current&&S.current.disconnect(),S.current=new ResizeObserver(ce),q.forEach((({current:e})=>S.current.observe(e))),ce()}),[B,u,m,p]),i((()=>(window.addEventListener("resize",ce),()=>{S.current&&S.current.disconnect(),window.removeEventListener("resize",ce)})),[]);const de=o((e=>{const r=ie(z.left+e),t=X(r),n=le(t);H(n),ae(t)}),[z,B,X,H,ae,ie]),ue=o((e=>{if(Y||e.touches?.length>1)return;U(!0);const r=y(e);ee.current=r,re.current=r}),[Y,U]),me=o((e=>{if(e.stopPropagation(),!G||Y)return;re.current=y(e);const r=ee.current-re.current;if(ee.current=re.current,0!==r){const e=V.current-r,t=le(e);H(t),ae(e)}}),[D,Y,G,z,ae]),pe=o((e=>{Y||e.touches?.length>0||U(!1)}),[Y,U]),he=o((e=>{J.current=!1,pe(e)}),[pe]);i((()=>{if(!G){const e=-1*V.current,r=D.reduce(((r,{start:t,width:n},o)=>e>=t?e>=t+n/2?o+1:o:r),0),t=ie(r),n=X(t),o=le(n);H(o),ae(n),ee.current=0,re.current=0}}),[G]);const fe=o((e=>{if(G)return;const r=J.current&&0===e.deltaX&&Math.abs(e.deltaY)>0,t=r?-1*e.deltaY:e.deltaX,n=Math.sign(t);if(V.current>=0&&-1===n||V.current<=ne&&1===n)return;Y||r||Z(!0);const o=V.current-n*Math.min(x,Math.abs(t)),s=le(o);z.left===s.left&&z.right===s.right||H(s);const i=()=>{if(Y){Z(!1);const e=X(s.left),r=le(e);H(r),ae(e)}};te.current&&clearTimeout(te.current),o>=0?(ae(0),i()):o<=ne?(ae(ne),i()):(ae(o),te.current=setTimeout(i,100))}),[z,D,x,p,Y,ne,V,G,Z,H,ae]),_e=t((()=>(({gridGap:e,isScrolling:r,isDragging:t})=>({gap:`${e}px`,transition:"transform "+(r||t?"0ms":"500ms")}))({gridGap:p,isScrolling:Y,isDragging:G})),[p,Y,G]);return e.createElement("div",{className:a,style:{...b({minDisplayCount:u,displayCount:m,slideAnchors:D}),...E},ref:R},e.createElement("div",{className:c},h&&e.createElement(f,{isLeft:!0,isRight:!1,isHidden:Y||G||!oe,scrollBy:de,arrowProps:_}),e.createElement("div",{ref:T,className:d,style:{..._e,...$},onTouchStart:ue,onTouchMove:me,onTouchEnd:pe,onTouchCancel:pe,onMouseDown:ue,onMouseMove:me,onMouseUp:pe,onMouseLeave:he,onMouseEnter:K,onWheel:fe},j.map(((r,t)=>e.createElement("div",{style:k,ref:q[t],key:t},r)))),h&&e.createElement(f,{isLeft:!1,isRight:!0,isHidden:Y||G||!se,scrollBy:de,arrowProps:g})),w&&e.createElement(M,{startIndex:z.left,endIndex:z.right,indexesPerRow:C||B,slideAnchors:D,scrollBy:de,indexContainerProps:P,indexProps:N}))};export{M as Carousel};
//# sourceMappingURL=index.es.js.map
