import e,{useMemo as r,useRef as t,useState as o,useCallback as n,useLayoutEffect as i,useEffect as a}from"react";var s="Carousel-module_container__j52CF",l="Carousel-module_slideContainer__q7xxg",d="Carousel-module_arrowIcon__wMmqr",u="Carousel-module_leftArrowIcon__daMSf",c="Carousel-module_rightArrowIcon__dMi-3",m="Carousel-module_arrow__qfBj1",p="Carousel-module_isArrowHidden__9yP-w",_="Carousel-module_rightArrow__8sZy6",f="Carousel-module_leftArrow__yzgQL";!function(e,r){void 0===r&&(r={});var t=r.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===t&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}(".Carousel-module_container__j52CF{align-items:center;display:flex;flex-direction:row;max-width:100%;overflow:hidden;position:relative}.Carousel-module_slideContainer__q7xxg{display:flex;flex-direction:row;z-index:1}.Carousel-module_arrowIcon__wMmqr{background-color:transparent;border:6px solid #1b1b1b;border-radius:5px;height:35%;opacity:.5;transition:border-color .5s;width:35%}.Carousel-module_leftArrowIcon__daMSf{border-right:none;border-top:none;transform:translateX(2.5px) rotate(45deg)}.Carousel-module_rightArrowIcon__dMi-3{border-bottom:none;border-left:none;transform:translateX(-2.5px) rotate(45deg)}.Carousel-module_arrow__qfBj1{align-items:center;background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;flex-direction:column;height:48px;justify-content:center;margin:0;padding:0;position:absolute;transition:opacity .5s,background-color .5s;width:48px;z-index:2}.Carousel-module_isArrowHidden__9yP-w{opacity:0;pointer-events:none}.Carousel-module_arrow__qfBj1:hover{background-color:#efefefa9;opacity:1}.Carousel-module_arrow__qfBj1:active{background-color:#929292a9;opacity:1}.Carousel-module_rightArrow__8sZy6{right:10px}.Carousel-module_leftArrow__yzgQL{left:10px}");const h=(e,r,t)=>`calc(${e}px * ${r} + (${r-1} * ${t}px))`,g=({slideWidth:e,displayCount:r,minDisplayCount:t,gridGap:o})=>({minWidth:`${t&&t>0?h(e,t,o):"auto"}`,width:`${r&&r>0?h(e,r,o):"100%"}`}),C=({gridGap:e,isScrolling:r,isDragging:t})=>({gap:`${e}px`,transition:"transform "+(r||t?"0ms":"500ms")}),y=({isLeft:r,isHidden:t,style:o,onClick:n})=>e.createElement("button",{className:`${m} ${r?f:_} ${t?p:""}`,style:o,onClick:n},e.createElement("span",{className:`${d} ${r?u:c}`})),w=e=>e?.touches?.[0]?.clientX||e?.clientX||0,x=({startIndex:d=0,minDisplayCount:u=0,displayCount:c=0,gridGap:m=10,slideWidth:p=0,showArrows:_=!0,renderArrows:f=y,style:h={},slideContainerStyle:x={},slideStyle:b={},children:M})=>{const v=r((()=>e.Children.toArray(M)||[]),[M]),A=r((()=>v.length),[v]),$=r((()=>Array(A).fill(e.createRef())),[A]),E=t(null),k=t(null),[S,q]=o(Math.max(c,1)),T=n(((e,r=0)=>-1*e*(p+m)-r),[p,m]),[L,j]=o(d),[D,I]=o(!1),[z,B]=o(!1),N=t(T(L,0)),W=n((e=>{N.current=e,requestAnimationFrame((()=>{k.current&&(k.current.style.transform=`translate(${e}px)`)}))}),[]),X=t(0),G=t(0),H=t(),P=t({timestamp:0}),F=n((()=>{const e=E.current?.clientWidth||A*p,r=Math.max(Math.min(Math.floor(e/p),c),1),t=T(L<0?0:L>A-r?A-r:L,0);W(t),q(r)}),[A,p,L,c,T,W,q]),O=n((e=>{const r=e<0?0:e>A-S?A-S:e;return{index:r,translateOffset:T(r,0)}}),[A,S,T]);i((()=>{F()}),[A,u,c,m,p]),a((()=>(window.addEventListener("resize",F),()=>{window.removeEventListener("resize",F)})),[F]);const R=r((()=>-1*(A-S)*(p+m)),[A,S,p,m]),Q=0!==L,Y=L+S<A,Z=n((e=>r=>{r.preventDefault(),r.stopPropagation();const t=L+e,o=t<0?0:t>A-S?A-S-1:t;j(o),W(T(o,0))}),[L,A,S,T,j,W]),U=n((e=>{if(z||e.touches?.length>1)return;I(!0);const r=w(e);X.current=r,G.current=r}),[z,I]),J=n((e=>{if(e.stopPropagation(),!D||z)return;G.current=w(e);const r=X.current-G.current;if(0!==r){const e=T(L,r);W(e)}}),[z,D,L,W,T]),K=n((e=>{if(z||e.touches?.length>0)return;const r=X.current-G.current;if(0!==r){const e=Math.round(L+r/(p+m)),t=O(e);j(t.index),W(t.translateOffset),X.current=0,G.current=0}I(!1)}),[z,L,p,m,j,W,O]),V=n((e=>{if(D)return;const r=0===e.deltaX&&Math.abs(e.deltaY)>0,t=r?-1*e.deltaY:e.deltaX,o=Math.sign(t);if(P.current.timestamp=e.timeStamp,N.current>=0&&-1===o||N.current<=R&&1===o)return;z||r||B(!0);const n=N.current-o*Math.min(p,Math.abs(t)),i=()=>{B(!1);const e=Math.round(Math.abs(n)/(p+m)),r=O(e);j(r.index),W(r.translateOffset)};H.current&&clearTimeout(H.current),n>=0?(W(0),i()):n<=R?(W(R),i()):(W(n),H.current=setTimeout(i,100))}),[m,z,R,N,p,D,B,j,W,O]);return e.createElement("div",{className:s,style:{...g({minDisplayCount:u,displayCount:c,slideWidth:p,gridGap:m}),...h},ref:E},_&&e.createElement(f,{isLeft:!0,isRight:!1,isHidden:z||D||!Q,onClick:Q?Z(-1):void 0}),e.createElement("div",{ref:k,className:l,style:{...C({gridGap:m,isScrolling:z,isDragging:D}),...x},onTouchStart:U,onTouchMove:J,onTouchEnd:K,onTouchCancel:K,onMouseDown:U,onMouseMove:J,onMouseUp:K,onMouseLeave:K,onWheel:V},v.map(((r,t)=>e.createElement("div",{style:b,ref:$[t],key:t},r)))),_&&e.createElement(f,{isLeft:!1,isRight:!0,isHidden:z||D||!Y,onClick:Y?Z(1):void 0}))};export{x as Carousel};
//# sourceMappingURL=index.es.js.map
