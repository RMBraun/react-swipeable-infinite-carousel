"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=t(e);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}var o="Carousel-module_container__j52CF",l="Carousel-module_slidesAndArrowsContainer__MvSNQ",s="Carousel-module_slideContainer__q7xxg",a="Carousel-module_arrowIcon__wMmqr",i="Carousel-module_leftArrowIcon__daMSf",u="Carousel-module_rightArrowIcon__dMi-3",c="Carousel-module_arrow__qfBj1",d="Carousel-module_isArrowHidden__9yP-w",f="Carousel-module_rightArrow__8sZy6",m="Carousel-module_leftArrow__yzgQL",h="Carousel-module_indexContainer__pQPXU",p="Carousel-module_index__r8PSD";!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".Carousel-module_container__j52CF{align-items:center;display:flex;flex-direction:column;justify-content:center;max-width:100%;overflow:hidden;position:relative}.Carousel-module_slidesAndArrowsContainer__MvSNQ{display:flex;flex-direction:column;height:100%;justify-content:center;position:relative;width:100%}.Carousel-module_slideContainer__q7xxg{display:flex;flex-direction:row;transition:transform .5s;z-index:1}.Carousel-module_arrowIcon__wMmqr{background-color:transparent;border:6px solid #1b1b1b;height:24px;opacity:.5;transition:border-color .5s;width:24px}.Carousel-module_leftArrowIcon__daMSf{border-right:none;border-top:none;transform:translateX(2.5px) rotate(45deg)}.Carousel-module_rightArrowIcon__dMi-3{border-bottom:none;border-left:none;transform:translateX(-2.5px) rotate(45deg)}.Carousel-module_arrow__qfBj1{align-items:center;background-color:#929292a9;border:none;cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;margin:0;mix-blend-mode:luminosity;opacity:.7;padding:0;position:absolute;transition:opacity .5s,background-color .5s;width:48px;z-index:2}.Carousel-module_isArrowHidden__9yP-w{opacity:0;pointer-events:none}.Carousel-module_arrow__qfBj1:hover{opacity:1}.Carousel-module_arrow__qfBj1:focus-visible{opacity:1}.Carousel-module_arrow__qfBj1:active{background-color:#6b6b6ba9}.Carousel-module_rightArrow__8sZy6{right:0}.Carousel-module_leftArrow__yzgQL{left:0}.Carousel-module_indexContainer__pQPXU{align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;margin:10px;width:100%}.Carousel-module_index__r8PSD{background-color:transparent;border:solid rgba(50,50,50,.5);border-radius:2px;cursor:pointer;height:8px;margin:0;padding:0;transition:background-color .5s}");const g=e=>e?.touches?.[0]?.clientX||e?.clientX||0,_=(e,t)=>e?.length&&t&&t>0?e.reduce(((r,{start:n},o)=>{const l=e[Math.min(o+t-1,e.length-1)].end-n;return l>r?l:r}),0):0,x=({isLeft:t,isRight:o,isHidden:l,scrollBy:s,arrowProps:h,arrowIconProps:p})=>{const g=e.useMemo((()=>`${c} ${t?m:f} ${l?d:""} ${h?.className||""}`),[h?.className,t,l]),_=e.useCallback(((e,t)=>r=>{r.preventDefault(),r.stopPropagation(),"function"==typeof e&&e(r),s(t)}),[h?.onClick,s,t]),x=e.useMemo((()=>`${a} ${t?i:u} ${p?.className||""}`),[p?.className,t]);return r.default.createElement("button",n({},h,{className:g,onClick:_(h?.onClick,t?-1:1)}),r.default.createElement("span",n({},p,{className:x})))},C=({activeIndexes:t,startIndex:o,endIndex:l,indexesPerRow:s,slideAnchors:a,scrollBy:i,indexContainerProps:u,indexProps:c})=>{const d=e.useRef(),f=e.useMemo((()=>`calc((100% - ${5*(s-1)}px) / ${s})`),[s]),m=e.useMemo((()=>`${h} ${u?.className||""}`),[u?.className]),g=e.useMemo((()=>`${p} ${c?.className||""}`),[c?.className]),_=e.useCallback(((e,t)=>r=>{"function"==typeof e&&e(r),i(t)}),[i]);return r.default.createElement("div",n({},u,{ref:d,className:m,style:{gap:"5px",...u?.style}}),a?.map(((e,l)=>r.default.createElement("button",n({key:l},c,{className:g,style:{backgroundColor:t.includes(l)?"black":"transparent",width:f,borderWidth:"2px",...c?.style},onClick:_(c?.onClick,l-o)})))))};exports.Carousel=({isInfinite:t=!1,startIndex:n=0,isScrollable:a=!0,isDraggable:i=!0,hasDragMomentum:u=!0,dragMomentumSpeed:c=25,dragMomentumDecay:d=.98,minDisplayCount:f=0,displayCount:m=0,gridGap:h=10,showArrows:p=!0,renderArrows:y=x,arrowLeftProps:w={},arrowRightProps:b={},scrollSpeed:M=75,showIndexes:v=!0,indexesPerRow:A=0,renderIndexes:k=C,indexContainerProps:P={},indexProps:R={},style:S={},slideContainerStyle:E={},slideStyle:N={},children:$})=>{const I=e.useRef(),j=e.useRef(),q=e.useRef(!1),D=e.useRef(0),B=e.useRef(),F=r.default.Children.toArray($)||[],[L,T]=e.useState(t?F.length:0),W=e.useMemo((()=>t&&L?[...F.slice(F.length-L,F.length),...F,...F.slice(0,L)]:F),[F.length,t,L]),X=W.length,O=e.useMemo((()=>Array(X).fill(null).map(((e,t)=>O?.[t]||r.default.createRef()))),[X]),[Q,z]=e.useState([]),H=e.useMemo((()=>t?Q.slice(L,Q.length-L):Q),[Q,Q.length,t]),U=e.useRef(null),Y=e.useRef(null),Z=e.useCallback(((e,t=Q)=>{const r=t?.[e]?.start;return null!=r?-1*r:0}),[Q]),[G,J]=e.useState({left:n+L,right:n+L}),K=e.useMemo((()=>null!=G?.left&&null!=G?.right?Array(G.right-G.left+1).fill(G.left).map(((e,t)=>(G.left+t-L)%F.length)):[]),[G?.left,G?.right,L]),V=e.useRef(G),[ee,te]=e.useState(X),[re,ne]=e.useState(!1),[oe,le]=e.useState(!0),se=e.useRef(!1),ae=e.useRef((()=>Z(G.left))),ie=e.useRef(0),ue=e.useRef(0),ce=e.useRef(),de=e.useMemo((()=>{const e=Q?.[ee]?.start;return null!=e?-1*e:0}),[Q,X,ee]),fe=t||0!==G.left,me=t||null==ae.current||null==U.current||null==Q?.[X-1]||-1*ae.current+U.current.clientWidth<Q?.[X-1].end,he=e.useCallback(((e,t=ee)=>Math.max(0,Math.min(t,e))),[ee]),pe=e.useCallback(((e,t=Q)=>{const r=-1*e,n=t.reduce(((e,{start:t,end:n,width:o},l)=>(e.left=r>=t?r>=t+o/2?l+1:l:e.left,e.right=null!=U.current?r+U.current.clientWidth>=n?l:e.right:X-1,e)),{left:0,right:0});return{left:he(n.left),right:Math.max(Math.min(X-1,n.right),n.left)}}),[X,Q,he]),ge=e.useCallback((({offset:e,index:r,newSlideAnchors:n=Q,newClonesLength:o=L})=>{requestAnimationFrame((()=>{if(!Y.current)return;let l=e;if(t&&o&&n.length){const t=n[n.length-o-1].end+h,r=n[o].start;e+t<0?l=e+t-r:e+r>0&&(l=e+r-t)}const s=null==r?pe(l):r;j.current&&cancelAnimationFrame(j.current),(oe||re)&&(Y.current.style.transitionDuration="0ms"),Y.current.style.transform=`translate(${l}px)`,j.current=requestAnimationFrame((()=>{Y.current.style.transitionDuration="500ms"})),ae.current=l,J(s)}))}),[h,oe,re,Q,Q?.length,L,pe,J,pe]),_e=()=>{const e=((e=[],t)=>e.reduce(((e,r,n)=>{if(r?.current){const o=r.current.clientWidth-t,l=0===n?0:e[n-1].end+t,s=l+o;e.push({start:l,end:s,width:o})}return e}),[]))(O,h);if(e?.length){const r=Y.current.clientWidth,n=(e=>{if(!t)return 0;const r=Y.current.clientWidth,n=t?e.slice(L,e.length-L):e,o=n.reduce(((e,{width:t},n)=>(e.width=e.width+t,null==e.index&&e.width>r&&(e.index=n+1),e)),{width:0,index:null}).index,l=n.reduceRight(((e,{width:t},o)=>(e.width=e.width+t,null==e.index&&e.width>r&&(e.index=n.length-o),e)),{width:0,index:null}).index;return Math.max(o,l,1)})(e),o=e[e.length-1].end,l=he(e.findIndex((({start:e})=>e+r>=o)),e.length-1),s=he(V.current.left+n,l),a=Z(s,e),i=pe(a,e);T(n),J(i),z(e),te(l),ge({offset:a,index:i})}};e.useLayoutEffect((()=>{B.current&&B.current.disconnect(),B.current=new ResizeObserver(_e),B.current.observe(U.current),O.forEach((({current:e})=>B.current.observe(e))),_e()}),[X,L,f,m,h,t]),e.useEffect((()=>{le(!1),t&&_e()}),[]);const xe=e.useCallback((e=>{if(!q.current){q.current=!0;let r=he(G.left+e);if(t){const t=r>=Q.length-L?r-F.length-1:r<L-1?F.length+1+r:null;if(null!=t){Y.current.style.transitionDuration="0ms";const n=-Q[t].start;Y.current.style.transform=`translate(${n}px)`,ae.current=n,r=he(t+e)}}requestAnimationFrame((()=>{Y.current.style.transitionDuration="500ms",requestAnimationFrame((()=>{if(r!==G.left){const e=Z(r),t=pe(e);J(t),Y.current.addEventListener("transitionend",(()=>{q.current=!1}),{once:!0}),Y.current.style.transform=`translate(${e}px)`,ae.current=e}else q.current=!1}))}))}}),[Q,t,G,X,pe,Z,ge,he,J]),Ce=e.useCallback((e=>{if(I.current&&cancelAnimationFrame(I.current),q.current||!i||oe||e.touches?.length>1)return;se.current=!1,ne(!0);const t=g(e);ie.current=t,ue.current=t}),[i,oe,ne]),ye=e.useCallback((e=>{if(e.stopPropagation(),q.current||se.current||!i||!re||oe)return;ue.current=g(e);const t=ie.current-ue.current;ie.current=ue.current,D.current=t,0!==t&&ge({offset:ae.current-t})}),[i,oe,re,ge]),we=e.useCallback((e=>{if(I.current&&cancelAnimationFrame(I.current),!(q.current||!i||oe||e.touches?.length>0))if(u){se.current=!0;const e=t=>{D.current=t,I.current=requestAnimationFrame((()=>{const r=ae.current-t;Math.abs(t)<=1||r>=0||r<=de?(se.current=!1,ne(!1),D.current=0):(ge({offset:r}),e(t*d))}))};e(D.current<0?Math.max(D.current,-c):Math.min(D.current,c))}else ne(!1)}),[u,c,d,de,0,i,oe,ne,ge]),be=e.useCallback((e=>{if(q.current||!a||re)return;const r=0===e.deltaX&&Math.abs(e.deltaY)>0?-1*e.deltaY:e.deltaX,n=Math.sign(r);if(ae.current>=0&&-1===n||ae.current<=de&&1===n)return void le(!1);oe||le(!0);const o=ae.current-n*Math.min(M,Math.abs(r)),l=()=>{le(!1)};ce.current&&clearTimeout(ce.current),!t&&o>=0?ge({offset:0}):!t&&o<=de?ge({offset:de}):(ge({offset:o}),ce.current=setTimeout(l,100))}),[t,a,M,oe,de,ae,re,le,ge]);e.useEffect((()=>{if(!(q.current||i&&re||a&&oe)){I.current&&cancelAnimationFrame(I.current),ce.current&&clearTimeout(ce.current);const e=Z(G.left);ge({offset:e}),ie.current=0,ue.current=0}}),[re,i,oe,a]);const Me=e.useMemo((()=>(({displayCount:e,minDisplayCount:t,slideAnchors:r})=>{const n=_(r,t),o=_(r,e);return{minWidth:n>0?`${n}px`:"auto",width:o>0?`${o}px`:"100%"}})({minDisplayCount:f,displayCount:m,slideAnchors:Q})),[Q,Q?.length,f,m]);return r.default.createElement("div",{className:o,style:{...Me,...S},ref:U},r.default.createElement("div",{className:l,onMouseLeave:we},p&&r.default.createElement(y,{isLeft:!0,isRight:!1,isHidden:oe||re||!fe,scrollBy:xe,arrowProps:w}),r.default.createElement("div",{ref:Y,className:s,style:E,onTouchStart:Ce,onTouchMove:ye,onTouchEnd:we,onTouchCancel:we,onMouseDown:Ce,onMouseMove:ye,onMouseUp:we,onWheel:be},W.map(((e,n)=>r.default.createElement("div",{style:{paddingRight:`${t||n!==W.length-1?h:0}px`,...N},ref:O[n],key:n},e)))),p&&r.default.createElement(y,{isLeft:!1,isRight:!0,isHidden:oe||re||!me,scrollBy:xe,arrowProps:b})),v&&r.default.createElement(k,{startIndex:G.left-L,endIndex:G.right-L,activeIndexes:K,indexesPerRow:A||F.length,slideAnchors:H,scrollBy:xe,indexContainerProps:P,indexProps:R}))};
//# sourceMappingURL=index.js.map
