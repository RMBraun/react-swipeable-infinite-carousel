"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);const r=(e,t,n)=>`calc(${e}px * ${t} + (${t-1} * ${n}px))`,o=({slideWidth:e,displayCount:t,minDisplayCount:n,gridGap:o})=>({position:"relative",minWidth:`${n&&n>0?r(e,n,o):"auto"}`,width:`${t&&t>0?r(e,t,o):"100%"}`,maxWidth:"100%",overflow:"hidden",display:"flex",flexDirection:"row",alignItems:"center"}),a=({gridGap:e,isScrolling:t,isDragging:n})=>({display:"flex",flexDirection:"row",gap:`${e}px`,zIndex:1,transition:"transform "+(t||n?"0ms":"500ms")}),s={width:"35%",height:"35%",border:"6px solid #1b1b1b",borderRadius:"5px",transition:"border-color 500ms"},i=({size:e})=>({position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0px",margin:"0px",border:"none",width:`${e}px`,height:`${e}px`,borderRadius:"50%",backgroundColor:"transparent",transition:"opacity 500ms, background-color 500ms",zIndex:"2",cursor:"pointer"}),l={...s,borderRight:"none",borderTop:"none",transform:"translateX(2.5px) rotate(45deg)"},u=e=>({...i(e),right:"10px"}),c={...s,borderLeft:"none",borderBottom:"none",transform:"translateX(-2.5px) rotate(45deg)"},d=({isLeft:t,isHidden:r,style:o,onClick:a})=>{const[s,i]=e.useState(!1),[u,d]=e.useState(!1);return n.default.createElement("button",{style:{...o,opacity:r?"0":s?"1":"0.5",pointerEvents:""+(r?"none":"auto"),backgroundColor:u?"#929292a9":s?"#efefefa9":"transparent"},onClick:a,onMouseEnter:()=>i(!0),onMouseLeave:()=>{i(!1),d(!1)},onMouseDown:()=>d(!0),onMouseUp:()=>d(!1)},n.default.createElement("span",{style:t?l:c}))},f=e=>e?.touches?.[0]?.clientX||e?.clientX||0;exports.Carousel=({startIndex:t=0,minDisplayCount:r=0,displayCount:s=0,gridGap:l=10,slideWidth:c,showArrows:p=!0,renderArrows:m=d,style:h={},slideContainerStyle:g={},slideStyle:b={},children:x})=>{const y=e.useMemo((()=>n.default.Children.toArray(x)||[]),[x]),C=e.useMemo((()=>y.length),[y]),M=e.useMemo((()=>Array(C).fill(n.default.createRef())),[C]),v=e.useRef(null),k=e.useRef(null),[w,E]=e.useState(Math.max(s,1)),R=e.useCallback(((e,t=0)=>-1*e*(c+l)-t),[c,l]),[S,D]=e.useState(t),[$,L]=e.useState(!1),[z,T]=e.useState(!1),W=e.useRef(R(S,0)),X=e.useCallback((e=>{W.current=e,requestAnimationFrame((()=>{k.current&&(k.current.style.transform=`translate(${e}px)`)}))}),[]),A=e.useRef(0),G=e.useRef(0),I=e.useRef(),O=e.useRef({timestamp:0}),j=e.useCallback((()=>{const e=v.current?.clientWidth||C*c,t=Math.max(Math.min(Math.floor(e/c),s),1),n=R(S<0?0:S>C-t?C-t:S,0);X(n),E(t)}),[C,c,S,s,R,X,E]),H=e.useCallback((e=>{const t=e<0?0:e>C-w?C-w:e;return{index:t,translateOffset:R(t,0)}}),[C,w,R]);e.useLayoutEffect((()=>{j()}),[C,r,s,l,c]),e.useEffect((()=>(window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j)})),[j]);const P=e.useMemo((()=>-1*(C-w)*(c+l)),[C,w,c,l]),q=0!==S,U=S+w<C,Y=e.useCallback((e=>t=>{t.preventDefault(),t.stopPropagation();const n=S+e,r=n<0?0:n>C-w?C-w-1:n;D(r),X(R(r,0))}),[S,C,w,R,D,X]),_=e.useCallback((e=>{if(z||e.touches?.length>1)return;L(!0);const t=f(e);A.current=t,G.current=t}),[z,L]),B=e.useCallback((e=>{if(e.stopPropagation(),!$||z)return;G.current=f(e);const t=A.current-G.current;if(0!==t){const e=R(S,t);X(e)}}),[z,$,S,X,R]),F=e.useCallback((e=>{if(z||e.touches?.length>0)return;const t=A.current-G.current;if(0!==t){const e=Math.round(S+t/(c+l)),n=H(e);D(n.index),X(n.translateOffset),A.current=0,G.current=0}L(!1)}),[z,S,c,l,D,X,H]),J=e.useCallback((e=>{if($)return;const t=0===e.deltaX&&Math.abs(e.deltaY)>0,n=t?-1*e.deltaY:e.deltaX,r=Math.sign(n);if(O.current.timestamp=e.timeStamp,W.current>=0&&-1===r||W.current<=P&&1===r)return;z||t||T(!0);const o=W.current-r*Math.min(c,Math.abs(n)),a=()=>{T(!1);const e=Math.round(Math.abs(o)/(c+l)),t=H(e);D(t.index),X(t.translateOffset)};I.current&&clearTimeout(I.current),o>=0?(X(0),a()):o<=P?(X(P),a()):(X(o),I.current=setTimeout(a,100))}),[l,z,P,W,c,$,T,D,X,H]);return n.default.createElement("div",{style:{...o({minDisplayCount:r,displayCount:s,slideWidth:c,gridGap:l}),...h},ref:v},p&&n.default.createElement(m,{isLeft:!0,isRight:!1,style:(K={size:48},{...i(K),left:"10px"}),isHidden:z||$||!q,onClick:q?Y(-1):void 0}),n.default.createElement("div",{ref:k,style:{...a({gridGap:l,isScrolling:z,isDragging:$}),...g},onTouchStart:_,onTouchMove:B,onTouchEnd:F,onTouchCancel:F,onMouseDown:_,onMouseMove:B,onMouseUp:F,onMouseLeave:F,onWheel:J},y.map(((e,t)=>n.default.createElement("div",{style:b,ref:M[t],key:t},e)))),p&&n.default.createElement(m,{isLeft:!1,isRight:!0,style:u({size:48}),isHidden:z||$||!U,onClick:U?Y(1):void 0}));var K};
//# sourceMappingURL=index.js.map
