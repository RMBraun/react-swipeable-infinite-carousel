"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t=r(e);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},n.apply(this,arguments)}var o="Carousel-module_container__j52CF",s="Carousel-module_slidesAndArrowsContainer__MvSNQ",l="Carousel-module_slideContainer__q7xxg",a="Carousel-module_arrowIcon__wMmqr",i="Carousel-module_leftArrowIcon__daMSf",u="Carousel-module_rightArrowIcon__dMi-3",c="Carousel-module_arrow__qfBj1",d="Carousel-module_isArrowHidden__9yP-w",f="Carousel-module_rightArrow__8sZy6",m="Carousel-module_leftArrow__yzgQL",p="Carousel-module_indexContainer__pQPXU",h="Carousel-module_index__r8PSD";!function(e,r){void 0===r&&(r={});var t=r.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".Carousel-module_container__j52CF{align-items:center;display:flex;flex-direction:column;justify-content:center;max-width:100%;overflow:hidden;position:relative}.Carousel-module_slidesAndArrowsContainer__MvSNQ{display:flex;flex-direction:column;height:100%;justify-content:center;position:relative;width:100%}.Carousel-module_slideContainer__q7xxg{display:flex;flex-direction:row;z-index:1}.Carousel-module_arrowIcon__wMmqr{background-color:transparent;border:6px solid #1b1b1b;border-radius:5px;height:24px;opacity:.5;transition:border-color .5s;width:24px}.Carousel-module_leftArrowIcon__daMSf{border-right:none;border-top:none;transform:translateX(2.5px) rotate(45deg)}.Carousel-module_rightArrowIcon__dMi-3{border-bottom:none;border-left:none;transform:translateX(-2.5px) rotate(45deg)}.Carousel-module_arrow__qfBj1{align-items:center;background-color:#929292a9;border:none;cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;margin:0;mix-blend-mode:luminosity;opacity:.7;padding:0;position:absolute;transition:opacity .5s,background-color .5s;width:48px;z-index:2}.Carousel-module_isArrowHidden__9yP-w{opacity:0;pointer-events:none}.Carousel-module_arrow__qfBj1:hover{opacity:1}.Carousel-module_arrow__qfBj1:focus-visible{opacity:1}.Carousel-module_arrow__qfBj1:active{background-color:#6b6b6ba9}.Carousel-module_rightArrow__8sZy6{right:0}.Carousel-module_leftArrow__yzgQL{left:0}.Carousel-module_indexContainer__pQPXU{align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;margin:10px;width:100%}.Carousel-module_index__r8PSD{background-color:transparent;border:solid rgba(50,50,50,.5);border-radius:2px;cursor:pointer;height:8px;margin:0;padding:0;transition:background-color .5s}");const _=e=>e?.touches?.[0]?.clientX||e?.clientX||0,g=(e,r)=>e?.length&&r&&r>0?e.reduce(((t,{start:n},o)=>{const s=e[Math.min(o+r-1,e.length-1)].end-n;return s>t?s:t}),0):0,C=({displayCount:e,minDisplayCount:r,slideAnchors:t})=>{const n=g(t,r),o=g(t,e);return{minWidth:n?`${n}px`:"auto",width:o?`${o}px`:"100%"}},x=({isLeft:r,isRight:o,isHidden:s,scrollBy:l,arrowProps:p,arrowIconProps:h})=>{const _=e.useMemo((()=>`${c} ${r?m:f} ${s?d:""} ${p?.className||""}`),[p?.className,r,s]),g=e.useCallback(((e,r)=>t=>{t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e(t),l(r)}),[p?.onClick,l,r]),C=e.useMemo((()=>`${a} ${r?i:u} ${h?.className||""}`),[h?.className,r]);return t.default.createElement("button",n({},p,{className:_,onClick:g(p?.onClick,r?-1:1)}),t.default.createElement("span",n({},h,{className:C})))},y=({startIndex:r,endIndex:o,indexesPerRow:s,slideAnchors:l,scrollBy:a,indexContainerProps:i,indexProps:u})=>{const c=e.useRef(),d=e.useMemo((()=>`calc((100% - ${5*(s-1)}px) / ${s})`),[s]),f=e.useMemo((()=>`${p} ${i?.className||""}`),[i?.className]),m=e.useMemo((()=>`${h} ${u?.className||""}`),[u?.className]),_=e.useCallback(((e,r)=>t=>{"function"==typeof e&&e(t),a(r)}),[u?.onClick,a,r]);return t.default.createElement("div",n({},i,{ref:c,className:f,style:{gap:"5px",...i?.style}}),l?.map(((e,s)=>t.default.createElement("button",n({key:s},u,{className:m,style:{backgroundColor:s>=r&&s<=o?"black":"transparent",width:d,borderWidth:"2px",...u?.style},onClick:_(u?.onClick,s-r)})))))};exports.Carousel=({startIndex:r=0,minDisplayCount:n=0,displayCount:a=0,gridGap:i=10,showArrows:u=!0,renderArrows:c=x,arrowLeftProps:d={},arrowRightProps:f={},scrollSpeed:m=75,showIndexes:p=!0,indexesPerRow:h=0,renderIndexes:g=y,indexContainerProps:w={},indexProps:b={},style:v={},slideContainerStyle:M={},slideStyle:k={},children:P})=>{const A=e.useRef(),E=t.default.Children.toArray(P)||[],N=E.length,R=e.useMemo((()=>Array(N).fill(null).map(((e,r)=>R?.[r]||t.default.createRef()))),[N]),[S,$]=e.useState([]),j=e.useRef(null),I=e.useRef(null),B=e.useCallback(((e,r=S)=>{const t=r?.[e]?.start;return null!=t?-1*t:0}),[S]),[q,L]=e.useState({left:r,right:r}),D=e.useRef(q),T=e.useCallback((e=>{D.current=e,L(e)}),[L]),[X,z]=e.useState(N),[W,O]=e.useState(!1),[Q,H]=e.useState(!1),F=e.useRef(!1),G=e.useCallback((()=>{F.current=!0}),[]),U=e.useRef(B(q.left)),Y=e.useRef(0),Z=e.useRef(0),J=e.useRef(),K=e.useMemo((()=>{const e=S?.[X]?.start;return null!=e?-1*e:0}),[S,N,X]),V=0!==q.left,ee=null==U.current||null==j.current||null==S?.[N-1]||-1*U.current+j.current.clientWidth<S?.[N-1].end,re=e.useCallback(((e,r=X)=>Math.max(0,Math.min(r,e))),[X]),te=e.useCallback(((e,r=S)=>{const t=-1*e,n=r.reduce(((e,{start:r,end:n,width:o},s)=>(e.left=t>=r?t>=r+o/2?s+1:s:e.left,e.right=null!=j.current?t+j.current.clientWidth>=n?s:e.right:N-1,e)),{left:0,right:0});return{left:re(n.left),right:Math.max(Math.min(N-1,n.right),n.left)}}),[N,S,re]),ne=e.useCallback((e=>{U.current=e,requestAnimationFrame((()=>{I.current&&(I.current.style.transform=`translate(${e}px)`)}))}),[]),oe=()=>{const e=((e=[],r=0)=>e.reduce(((e,t,n)=>{if(t?.current){const o=t.current.clientWidth,s=0===n?0:e[n-1].end+r,l=s+o;e.push({start:s,end:l,width:o})}return e}),[]))(R,i);if(e?.length){const r=j.current.clientWidth,t=e[e.length-1].end,n=re(e.findIndex((({start:e})=>e+r>=t)),e.length-1),o=re(D.current.left,n),s=B(o,e),l=te(s,e);T(l),$(e),z(n),ne(s)}};e.useLayoutEffect((()=>{A.current&&A.current.disconnect(),A.current=new ResizeObserver(oe),R.forEach((({current:e})=>A.current.observe(e))),oe()}),[N,n,a,i]),e.useEffect((()=>(window.addEventListener("resize",oe),()=>{A.current&&A.current.disconnect(),window.removeEventListener("resize",oe)})),[]);const se=e.useCallback((e=>{const r=re(q.left+e),t=B(r),n=te(t);T(n),ne(t)}),[q,N,B,T,ne,re]),le=e.useCallback((e=>{if(Q||e.touches?.length>1)return;O(!0);const r=_(e);Y.current=r,Z.current=r}),[Q,O]),ae=e.useCallback((e=>{if(e.stopPropagation(),!W||Q)return;Z.current=_(e);const r=Y.current-Z.current;if(Y.current=Z.current,0!==r){const e=U.current-r,t=te(e);T(t),ne(e)}}),[S,Q,W,q,ne]),ie=e.useCallback((e=>{Q||e.touches?.length>0||O(!1)}),[Q,O]),ue=e.useCallback((e=>{F.current=!1,ie(e)}),[ie]);e.useEffect((()=>{if(!W){const e=-1*U.current,r=S.reduce(((r,{start:t,width:n},o)=>e>=t?e>=t+n/2?o+1:o:r),0),t=re(r),n=B(t),o=te(n);T(o),ne(n),Y.current=0,Z.current=0}}),[W]);const ce=e.useCallback((e=>{if(W)return;const r=F.current&&0===e.deltaX&&Math.abs(e.deltaY)>0,t=r?-1*e.deltaY:e.deltaX,n=Math.sign(t);if(U.current>=0&&-1===n||U.current<=K&&1===n)return;Q||r||H(!0);const o=U.current-n*Math.min(m,Math.abs(t)),s=te(o);q.left===s.left&&q.right===s.right||T(s);const l=()=>{if(Q){H(!1);const e=B(s.left),r=te(e);T(r),ne(e)}};J.current&&clearTimeout(J.current),o>=0?(ne(0),l()):o<=K?(ne(K),l()):(ne(o),J.current=setTimeout(l,100))}),[q,S,m,i,Q,K,U,W,H,T,ne]),de=e.useMemo((()=>(({gridGap:e,isScrolling:r,isDragging:t})=>({gap:`${e}px`,transition:"transform "+(r||t?"0ms":"500ms")}))({gridGap:i,isScrolling:Q,isDragging:W})),[i,Q,W]);return t.default.createElement("div",{className:o,style:{...C({minDisplayCount:n,displayCount:a,slideAnchors:S}),...v},ref:j},t.default.createElement("div",{className:s},u&&t.default.createElement(c,{isLeft:!0,isRight:!1,isHidden:Q||W||!V,scrollBy:se,arrowProps:d}),t.default.createElement("div",{ref:I,className:l,style:{...de,...M},onTouchStart:le,onTouchMove:ae,onTouchEnd:ie,onTouchCancel:ie,onMouseDown:le,onMouseMove:ae,onMouseUp:ie,onMouseLeave:ue,onMouseEnter:G,onWheel:ce},E.map(((e,r)=>t.default.createElement("div",{style:k,ref:R[r],key:r},e)))),u&&t.default.createElement(c,{isLeft:!1,isRight:!0,isHidden:Q||W||!ee,scrollBy:se,arrowProps:f})),p&&t.default.createElement(g,{startIndex:q.left,endIndex:q.right,indexesPerRow:h||N,slideAnchors:S,scrollBy:se,indexContainerProps:w,indexProps:b}))};
//# sourceMappingURL=index.js.map
